name: Generate Morning Content

on:
  workflow_dispatch:

jobs:
  check-api-keys:
    uses: ./.github/workflows/api-key-check.yml
    secrets: inherit
    
  generate-text:
    needs: check-api-keys
    uses: ./.github/workflows/text-generator.yml
    secrets: inherit
    
  generate-image:
    needs: check-api-keys
    uses: ./.github/workflows/image-generator.yml
    secrets: inherit
    
  summary:
    needs: [generate-text, generate-image]
    runs-on: ubuntu-latest
    
    steps:
    - name: Display Final Results
      run: |
        echo "ğŸ‰ Morning content generation completed!"
        echo ""
        echo "ğŸ“ Generated Text: ${{ needs.generate-text.outputs.morning-text }}"
        echo "ğŸ–¼ï¸ Generated Image: ${{ needs.generate-image.outputs.image-url }}"
        echo ""
        echo "âœ… Ready for posting to X (Twitter)!"